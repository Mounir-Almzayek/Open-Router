# Image Generation

## Feature Overview

Image generation enables AI models to create visual content as part of their responses. This feature allows you to generate images with specific aspect ratios, resolutions, and styles based on text descriptions. Some models support generating images alongside text, enabling rich multimodal outputs that combine visual and textual content.

*توليد الصور يتيح لنماذج الذكاء الاصطناعي إنشاء محتوى مرئي كجزء من استجاباتها. تتيح لك هذه الميزة توليد صور بنسب عرض إلى ارتفاع ودقة وأنماط محددة بناءً على أوصاف النص. بعض النماذج تدعم توليد الصور إلى جانب النص، مما يتيح مخرجات متعددة الوسائط غنية تجمع بين المحتوى المرئي والنصي.*

## Feature Importance

Image generation transforms AI from a text-only system into a creative visual content generator. This capability enables applications like content creation tools, design assistants, marketing material generators, and creative applications that need visual outputs. Image generation opens new possibilities for AI-powered creative workflows.

*توليد الصور يحول الذكاء الاصطناعي من نظام نصي فقط إلى مولد محتوى مرئي إبداعي. هذه القدرة تتيح تطبيقات مثل أدوات إنشاء المحتوى والمساعدين في التصميم ومولدات المواد التسويقية والتطبيقات الإبداعية التي تحتاج مخرجات مرئية. توليد الصور يفتح إمكانيات جديدة لسير العمل الإبداعي المدعوم بالذكاء الاصطناعي.*

## Key Benefits

### Creative Content Generation
Generate images from text descriptions, enabling rapid visual content creation without design skills. This democratizes image creation and enables non-designers to produce visual content.

*أنشئ صوراً من أوصاف النص، مما يتيح إنشاء محتوى مرئي سريع دون مهارات التصميم. هذا يديم إنشاء الصور ويمكن غير المصممين من إنتاج محتوى مرئي.*

### Customizable Outputs
Control image aspect ratios and resolutions to match specific use cases. Generate square images for social media, wide banners for websites, or portrait images for mobile content—all from the same model.

*تحكم في نسب العرض إلى الارتفاع ودقة الصور لمطابقة حالات استخدام محددة. أنشئ صوراً مربعة لوسائل التواصل الاجتماعي أو لافتات عريضة للمواقع أو صوراً عمودية لمحتوى الهاتف المحمول—كلها من نفس النموذج.*

### Multimodal Integration
Combine image generation with text generation for rich, multimodal outputs. Generate images with accompanying descriptions, captions, or explanations in a single response.

*اجمع توليد الصور مع توليد النص لمخرجات متعددة الوسائط غنية. أنشئ صوراً مع أوصاف أو تسميات توضيحية أو تفسيرات مصاحبة في استجابة واحدة.*

### Rapid Prototyping
Generate visual concepts quickly for design iterations, mockups, and prototypes. This accelerates design workflows and enables rapid experimentation with visual ideas.

*أنشئ مفاهيم مرئية بسرعة للتكرارات التصميمية والنماذج الأولية والنماذج. هذا يسرع سير عمل التصميم ويمكن التجربة السريعة مع الأفكار المرئية.*

## Use Cases

### Social Media Content
Generate images for social media posts with appropriate aspect ratios—square for Instagram, wide for Twitter headers, portrait for stories. Create visual content that matches platform requirements.

*أنشئ صوراً لمنشورات وسائل التواصل الاجتماعي بنسب عرض إلى ارتفاع مناسبة—مربعة لإنستغرام، عريضة لرؤوس تويتر، عمودية للقصص. أنشئ محتوى مرئي يطابق متطلبات المنصة.*

### Marketing Materials
Create marketing visuals, banners, and promotional images from text descriptions. Generate consistent visual branding and marketing materials at scale.

*أنشئ مرئيات تسويقية ولافتات وصور ترويجية من أوصاف النص. أنشئ علامة تجارية بصرية متسقة ومواد تسويقية على نطاق واسع.*

### Design Mockups
Generate design concepts and mockups for websites, applications, or products. Rapidly prototype visual ideas before committing to detailed design work.

*أنشئ مفاهيم تصميم ونماذج للمواقع أو التطبيقات أو المنتجات. أنشئ نماذج أولية سريعة للأفكار المرئية قبل الالتزام بعمل التصميم التفصيلي.*

### Educational Content
Create educational illustrations, diagrams, and visual aids from text descriptions. Generate visual content that supports learning and teaching materials.

*أنشئ رسوم توضيحية تعليمية ومخططات ووسائل بصرية من أوصاف النص. أنشئ محتوى مرئي يدعم مواد التعلم والتدريس.*

## Performance Considerations

### Generation Time
Image generation takes longer than text generation due to the complexity of creating visual content. Higher resolutions and more complex prompts increase generation time. Expect longer response times for image generation.

*توليد الصور يستغرق وقتاً أطول من توليد النص بسبب تعقيد إنشاء المحتوى المرئي. الدقات الأعلى والمطالب الأكثر تعقيداً تزيد وقت التوليد. توقع أوقات استجابة أطول لتوليد الصور.*

### Resolution Impact
Higher resolutions (4K) take significantly longer to generate than lower resolutions (1K, 2K). Choose resolution based on actual needs—2K is often sufficient for most use cases and provides a good balance of quality and speed.

*الدقات الأعلى (4K) تستغرق وقتاً أطول بكثير للتوليد من الدقات المنخفضة (1K، 2K). اختر الدقة بناءً على الاحتياجات الفعلية—2K غالباً ما يكون كافياً لمعظم حالات الاستخدام ويوفر توازناً جيداً بين الجودة والسرعة.*

### Aspect Ratio Considerations
Different aspect ratios may have different generation characteristics. Some ratios may be optimized better than others. Test different aspect ratios to find optimal settings for your use case.

*نسب العرض إلى الارتفاع المختلفة قد يكون لها خصائص توليد مختلفة. بعض النسب قد تكون محسّنة بشكل أفضل من غيرها. اختبر نسب عرض إلى ارتفاع مختلفة للعثور على الإعدادات المثلى لحالة الاستخدام.*

## Cost Implications

### Higher Token Costs
Image generation consumes more tokens than text generation due to the complexity of visual content. Generated images are typically returned as base64 data URLs, which consume significant tokens.

*توليد الصور يستهلك رموزاً مميزة أكثر من توليد النص بسبب تعقيد المحتوى المرئي. الصور المولدة عادة ما تُعاد كعناوين URL بيانات base64، والتي تستهلك رموزاً مميزة كبيرة.*

### Resolution and Cost
Higher resolutions cost more due to increased image data. 4K images consume significantly more tokens than 1K or 2K images. Choose resolution based on actual needs to optimize costs.

*الدقات الأعلى تكلف أكثر بسبب زيادة بيانات الصورة. صور 4K تستهلك رموزاً مميزة أكثر بكثير من صور 1K أو 2K. اختر الدقة بناءً على الاحتياجات الفعلية لتحسين التكاليف.*

### Model Selection
Some models specialize in image generation and may have different pricing. Choose models optimized for image generation when this is your primary use case.

*بعض النماذج متخصصة في توليد الصور وقد يكون لها تسعير مختلف. اختر النماذج المحسّنة لتوليد الصور عندما يكون هذا هو حالة الاستخدام الأساسية.*

## Best Practices

### Aspect Ratio Selection
Choose aspect ratios that match your use case: square (1:1) for social media, wide (16:9, 21:9) for banners, portrait (9:16) for mobile content. Matching aspect ratios to use cases ensures optimal results.

*اختر نسب عرض إلى ارتفاع تطابق حالة الاستخدام: مربعة (1:1) لوسائل التواصل الاجتماعي، عريضة (16:9، 21:9) للافتات، عمودية (9:16) لمحتوى الهاتف المحمول. مطابقة نسب العرض إلى الارتفاع لحالات الاستخدام تضمن نتائج مثلى.*

### Resolution Optimization
Use 2K resolution for most use cases—it provides good quality with reasonable costs and generation time. Use 4K only when high resolution is critical. Use 1K for quick prototypes or when cost is a primary concern.

*استخدم دقة 2K لمعظم حالات الاستخدام—إنها توفر جودة جيدة مع تكاليف ووقت توليد معقول. استخدم 4K فقط عندما تكون الدقة العالية حرجة. استخدم 1K للنماذج الأولية السريعة أو عندما تكون التكلفة مصدر قلق أساسي.*

### Prompt Design
Write clear, detailed prompts for image generation. Include style, composition, colors, and mood descriptions. Better prompts produce better images and reduce the need for regeneration.

*اكتب مطالب واضحة ومفصلة لتوليد الصور. اشمل الوصف الأسلوب والتركيب والألوان والمزاج. المطالب الأفضل تنتج صوراً أفضل وتقلل الحاجة لإعادة التوليد.*

### Testing and Iteration
Test different aspect ratios, resolutions, and prompts to find optimal settings for your use case. Image generation results can vary, so iteration helps achieve desired outcomes.

*اختبر نسب عرض إلى ارتفاع ودقة ومطالب مختلفة للعثور على الإعدادات المثلى لحالة الاستخدام. نتائج توليد الصور يمكن أن تختلف، لذا التكرار يساعد في تحقيق النتائج المرغوبة.*

## When NOT to Use

### Don't Use High Resolution Unnecessarily
Avoid 4K resolution unless high resolution is critical. 4K significantly increases costs and generation time without proportional benefits for most use cases. 2K is usually sufficient.

*تجنب دقة 4K ما لم تكن الدقة العالية حرجة. 4K تزيد التكاليف ووقت التوليد بشكل كبير دون فوائد متناسبة لمعظم حالات الاستخدام. 2K عادة ما يكون كافياً.*

### Don't Generate Images Without Clear Purpose
Avoid generating images without specific requirements or use cases. Image generation consumes significant tokens and time. Have clear goals for generated images to ensure value.

*تجنب توليد الصور دون متطلبات أو حالات استخدام محددة. توليد الصور يستهلك رموزاً مميزة ووقتاً كبيراً. لديك أهداف واضحة للصور المولدة لضمان القيمة.*

### Don't Ignore Aspect Ratio Requirements
Don't use arbitrary aspect ratios—match them to your use case. Wrong aspect ratios produce images that don't fit your application, wasting tokens and requiring regeneration.

*لا تستخدم نسب عرض إلى ارتفاع عشوائية—طابقها مع حالة الاستخدام. نسب العرض إلى الارتفاع الخاطئة تنتج صوراً لا تناسب تطبيقك، مما يهدر الرموز المميزة ويتطلب إعادة التوليد.*

## Troubleshooting

### Images Not Generating
If images aren't being generated, verify the model supports image generation. Check that image generation is enabled correctly. Ensure prompts are clear and appropriate for image generation.

*إذا لم يتم توليد الصور، تحقق من أن النموذج يدعم توليد الصور. تحقق من أن توليد الصور مفعّل بشكل صحيح. تأكد من أن المطالب واضحة ومناسبة لتوليد الصور.*

### Poor Image Quality
If image quality is poor, try increasing resolution (if cost allows). Improve prompt descriptions with more detail about style, composition, and desired outcome. Test different aspect ratios.

*إذا كانت جودة الصورة ضعيفة، جرب زيادة الدقة (إذا سمحت التكلفة). حسّن أوصاف المطالب بمزيد من التفاصيل حول الأسلوب والتركيب والنتيجة المرغوبة. اختبر نسب عرض إلى ارتفاع مختلفة.*

### High Costs
If costs are high, review resolution settings. Use 2K instead of 4K when possible. Consider whether image generation is necessary for all use cases—some may work with text-only outputs.

*إذا كانت التكاليف عالية، راجع إعدادات الدقة. استخدم 2K بدلاً من 4K عند الإمكان. ضع في الاعتبار ما إذا كان توليد الصور ضرورياً لجميع حالات الاستخدام—بعضها قد يعمل مع مخرجات نصية فقط.*

### Long Generation Times
If generation takes too long, reduce resolution from 4K to 2K or 1K. Simplify prompts if possible. Consider asynchronous processing for image generation workflows.

*إذا استغرق التوليد وقتاً طويلاً، قلل الدقة من 4K إلى 2K أو 1K. بسّط المطالب إذا أمكن. فكر في المعالجة غير المتزامنة لسير عمل توليد الصور.*

## Enable Image Generation

```python
from app.builders import ChatRequestBuilder
from app.enums import AspectRatio, ImageSize, OutputModality

request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("Generate a beautiful sunset over mountains")
    .with_image_generation(
        aspect_ratio=AspectRatio.RATIO_16_9,
        image_size=ImageSize.SIZE_4K
    )
    .build())
```

## Aspect Ratios

Available aspect ratios:

```python
from app.enums import AspectRatio

# Square
AspectRatio.RATIO_1_1  # 1:1

# Portrait
AspectRatio.RATIO_2_3  # 2:3
AspectRatio.RATIO_3_4  # 3:4
AspectRatio.RATIO_4_5  # 4:5
AspectRatio.RATIO_9_16  # 9:16

# Landscape
AspectRatio.RATIO_3_2  # 3:2
AspectRatio.RATIO_4_3  # 4:3
AspectRatio.RATIO_5_4  # 5:4
AspectRatio.RATIO_16_9  # 16:9
AspectRatio.RATIO_21_9  # 21:9
```

## Image Sizes

```python
from app.enums import ImageSize

ImageSize.SIZE_1K  # 1K resolution
ImageSize.SIZE_2K  # 2K resolution
ImageSize.SIZE_4K  # 4K resolution
```

## Basic Usage

```python
request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("A serene lake at sunset")
    .with_image_generation()
    .build())
```

## Advanced Usage

```python
request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("Futuristic cityscape at night")
    .with_image_generation(
        aspect_ratio=AspectRatio.RATIO_21_9,
        image_size=ImageSize.SIZE_4K
    )
    .build())
```

## Extract Generated Images

```python
from app.processors import ContentExtractor

response = await client.chat_completion(request)
extractor = ContentExtractor()
images = extractor.extract_images(response)

# images is a list of base64 data URLs
for image_url in images:
    # Process image
    pass
```

## Use Cases

### Social Media Content
```python
# Instagram post (square)
request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("Modern workspace design")
    .with_image_generation(
        aspect_ratio=AspectRatio.RATIO_1_1,
        image_size=ImageSize.SIZE_2K
    )
    .build())
```

### Banner Images
```python
# Website banner (wide)
request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("Tech conference banner")
    .with_image_generation(
        aspect_ratio=AspectRatio.RATIO_21_9,
        image_size=ImageSize.SIZE_4K
    )
    .build())
```

### Mobile Content
```python
# Mobile story (portrait)
request = (ChatRequestBuilder()
    .with_model("google/gemini-2.5-flash-image-preview")
    .with_text("Product showcase")
    .with_image_generation(
        aspect_ratio=AspectRatio.RATIO_9_16,
        image_size=ImageSize.SIZE_2K
    )
    .build())
```

## Important Notes

- Not all models support image generation
- Higher resolutions cost more
- Generation time increases with size
- Aspect ratio affects composition

## Best Practices

1. **Choose appropriate aspect ratio** for your use case
2. **Use 2K for most cases** (good balance)
3. **Use 4K only when needed** (higher cost)
4. **Test different prompts** to get desired results

